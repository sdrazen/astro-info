{"ast":null,"code":"import _classCallCheck from \"C:/Users/Fritz7x64/Documents/Angular/astro-info/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Fritz7x64/Documents/Angular/astro-info/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { FirebaseAuthService } from './shared/firebase.auth.service';\nimport { UserSettingsService } from './shared/user.settings.service';\nimport { TranslationsService } from './shared/translations.service';\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./shared/firebase.auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./shared/user.settings.service\";\nimport * as i4 from \"./shared/translations.service\";\n\nfunction LoginComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\n\nexport var LoginComponent = /*#__PURE__*/(function () {\n  var LoginComponent = /*#__PURE__*/function () {\n    function LoginComponent(_firebaseAuthService, _router, _userSettingsService, _translationsService) {\n      _classCallCheck(this, LoginComponent);\n\n      this._firebaseAuthService = _firebaseAuthService;\n      this._router = _router;\n      this._userSettingsService = _userSettingsService;\n      this._translationsService = _translationsService;\n      this.errorMessage = ''; // Variables for translations\n\n      this.languageId = 0;\n      this.t_LoginComponent_Title = \"Get started with AstroInfo\";\n      this.t_LoginComponent_Subtitle = \"...and access information about deep sky objects from various resources\";\n    }\n\n    _createClass(LoginComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        var p = this._firebaseAuthService.listenForAuthStateChanges();\n\n        p.then(function (user) {\n          _this.isLoggedIn = true;\n          _this.errorMessage = ''; // Use user settings from service\n\n          _this.languageId = _this._userSettingsService.languageId; // Translations\n\n          _this.translate();\n        }).catch(function (value) {\n          _this.isLoggedIn = false; // Use user settings from service\n\n          _this.languageId = _this._userSettingsService.languageId; // Translations\n\n          _this.translate();\n        });\n      }\n    }, {\n      key: \"userGoogleSignIn\",\n      value: function userGoogleSignIn() {\n        var _this2 = this;\n\n        if (this.isLoggedIn == false) {\n          var p = this._firebaseAuthService.userGoogleSignIn();\n\n          p.then(function (value) {\n            _this2.isLoggedIn = true;\n\n            _this2._router.navigate(['welcome']);\n\n            _this2.errorMessage = '';\n          }).catch(function (error) {\n            _this2.isLoggedIn = false;\n            _this2.errorMessage = error;\n          });\n        }\n      }\n    }, {\n      key: \"userFacebookSignIn\",\n      value: function userFacebookSignIn() {\n        var _this3 = this;\n\n        if (this.isLoggedIn == false) {\n          var p = this._firebaseAuthService.userFacebookSignIn();\n\n          p.then(function (value) {\n            _this3.isLoggedIn = true;\n\n            _this3._router.navigate(['welcome']);\n\n            _this3.errorMessage = '';\n          }).catch(function (error) {\n            _this3.isLoggedIn = false;\n            _this3.errorMessage = error;\n          });\n        }\n      }\n    }, {\n      key: \"userGithubSignIn\",\n      value: function userGithubSignIn() {\n        var _this4 = this;\n\n        if (this.isLoggedIn == false) {\n          var p = this._firebaseAuthService.userGithubSignIn();\n\n          p.then(function (value) {\n            _this4.isLoggedIn = true;\n\n            _this4._router.navigate(['welcome']);\n\n            _this4.errorMessage = '';\n          }).catch(function (error) {\n            _this4.isLoggedIn = false;\n            _this4.errorMessage = error;\n          });\n        }\n      }\n    }, {\n      key: \"userSignOut\",\n      value: function userSignOut() {\n        if (this.isLoggedIn == true) {\n          this._firebaseAuthService.userSignOut();\n\n          this.isLoggedIn = false;\n        }\n      }\n    }, {\n      key: \"translate\",\n      value: function translate() {\n        var _this5 = this;\n\n        if (this._translationsService.translationsSetToVariables === false) {\n          this._translationsService.setTranslationsForLanguage(this.languageId).then(function () {\n            _this5.t_LoginComponent_Title = _this5._translationsService.t_LoginComponent_Title;\n            _this5.t_LoginComponent_Subtitle = _this5._translationsService.t_LoginComponent_Subtitle;\n          });\n        } else {\n          this.t_LoginComponent_Title = this._translationsService.t_LoginComponent_Title;\n          this.t_LoginComponent_Subtitle = this._translationsService.t_LoginComponent_Subtitle;\n        }\n      }\n    }]);\n\n    return LoginComponent;\n  }();\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FirebaseAuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserSettingsService), i0.ɵɵdirectiveInject(i4.TranslationsService));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 21,\n    vars: 3,\n    consts: [[1, \"container\", \"top-50\"], [1, \"jumbotron\", \"text-center\"], [\"src\", \"assets/img/astronomy.jpg\"], [\"href\", \"#\", 1, \"btn\", \"btn-social\", \"btn-google\", 3, \"click\"], [1, \"fa\", \"fa-google\"], [\"href\", \"#\", 1, \"btn\", \"btn-social\", \"btn-facebook\", 3, \"click\"], [1, \"fa\", \"fa-facebook\"], [\"href\", \"#\", 1, \"btn\", \"btn-social\", \"btn-github\", 3, \"click\"], [1, \"fa\", \"fa-github\"], [\"class\", \"alert alert-danger top-50\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\", \"top-50\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\")(3, \"b\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(5, \"img\", 2);\n        i0.ɵɵelementStart(6, \"h5\")(7, \"i\");\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(9, \"br\")(10, \"br\");\n        i0.ɵɵelementStart(11, \"a\", 3);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_11_listener() {\n          return ctx.userGoogleSignIn();\n        });\n        i0.ɵɵelement(12, \"span\", 4);\n        i0.ɵɵtext(13, \"Sign in with Google\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"a\", 5);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_14_listener() {\n          return ctx.userFacebookSignIn();\n        });\n        i0.ɵɵelement(15, \"span\", 6);\n        i0.ɵɵtext(16, \"Sign in with Facebook\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"a\", 7);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_17_listener() {\n          return ctx.userGithubSignIn();\n        });\n        i0.ɵɵelement(18, \"span\", 8);\n        i0.ɵɵtext(19, \"Sign in with Github\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, LoginComponent_div_20_Template, 2, 1, \"div\", 9);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.t_LoginComponent_Title);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.t_LoginComponent_Subtitle);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage != \"\");\n      }\n    },\n    styles: [\".top-50[_ngcontent-%COMP%]{margin-top:50px}\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}