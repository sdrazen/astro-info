{"ast":null,"code":"import _classCallCheck from \"C:/Users/Fritz7x64/Documents/Angular/astro-info/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Fritz7x64/Documents/Angular/astro-info/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Globals } from 'common/globals';\nimport * as i0 from \"@angular/core\";\nexport var UserSettingsService = /*#__PURE__*/(function () {\n  var UserSettingsService = /*#__PURE__*/function () {\n    function UserSettingsService() {\n      _classCallCheck(this, UserSettingsService);\n\n      // Variables for user settings\n      this.lat = 0;\n      this.lng = 0;\n      this.timeZoneRawOffset = 0;\n      this.languageId = 0;\n      this.dataSource = 0;\n      this.apiSource = 1;\n      this.itemsPerPage = 0;\n      this.pagesPerPageset = 0;\n      this.userSettings = {\n        lat: 0,\n        lng: 0,\n        timeZoneRawOffset: 0,\n        languageId: 0,\n        dataSource: 0,\n        apiSource: 1,\n        itemsPerPage: 0,\n        pagesPerPageset: 0\n      };\n      this.userSettingsDefined = false;\n      this.userSettingsSetToVariables = false; // Variables for data source\n\n      this.dataSourceList = [{\n        \"datasource\": 0,\n        \"datasourcetitle\": \"Firebase\"\n      }, {\n        \"datasource\": 1,\n        \"datasourcetitle\": \"MongoDb\"\n      }];\n      this.dataSourceTitle = \"Firebase\";\n      this.dataSourceLocation = \"\";\n      this.dataSourceCalledFrom = \"\"; // Variables for api source\n\n      this.apiSourceList = [{\n        \"apisource\": 0,\n        \"apisourcetitle\": \"frontend\"\n      }, {\n        \"apisource\": 1,\n        \"apisourcetitle\": \"backend\"\n      }];\n      this.apiSourceTitle = \"backend\";\n      this.apiSourceCalledFrom = \"backend\";\n    }\n\n    _createClass(UserSettingsService, [{\n      key: \"getUserSettings\",\n      value: function getUserSettings() {\n        // Are user settings defined?\n        if (localStorage.getItem('astro-info-usersettings') !== null && localStorage.getItem('astro-info-usersettings') !== undefined) {\n          // Get user settings from localStorage if available\n          this.userSettings = JSON.parse(localStorage.getItem('astro-info-usersettings'));\n          this.lat = parseFloat(this.userSettings.lat.toString());\n          this.lng = parseFloat(this.userSettings.lng.toString());\n          this.timeZoneRawOffset = this.userSettings.timeZoneRawOffset == null ? 0 : parseInt(this.userSettings.timeZoneRawOffset.toString());\n          this.languageId = parseInt(this.userSettings.languageId.toString());\n          this.dataSource = parseInt(this.userSettings.dataSource.toString());\n          this.apiSource = parseInt(this.userSettings.apiSource.toString());\n          this.itemsPerPage = parseInt(this.userSettings.itemsPerPage.toString());\n          this.pagesPerPageset = parseInt(this.userSettings.pagesPerPageset.toString());\n          this.userSettingsDefined = true;\n          this.userSettingsSetToVariables = true;\n        } else {\n          // No user settings defined, set default values\n          this.lat = 45.814440;\n          this.lng = 15.977980;\n          this.timeZoneRawOffset = 0;\n          this.languageId = 0;\n          this.dataSource = 0;\n          this.apiSource = 1;\n          this.itemsPerPage = 10;\n          this.pagesPerPageset = 10;\n          this.userSettingsDefined = false;\n          this.userSettingsSetToVariables = true;\n        }\n\n        return;\n      }\n    }, {\n      key: \"setUserSettings\",\n      value: function setUserSettings(userSettings) {\n        // Set variables to new values\n        this.lat = userSettings.lat;\n        this.lng = userSettings.lng;\n        this.timeZoneRawOffset = userSettings.timeZoneRawOffset;\n        this.languageId = userSettings.languageId;\n        this.dataSource = userSettings.dataSource;\n        this.apiSource = userSettings.apiSource;\n        this.itemsPerPage = userSettings.itemsPerPage;\n        this.pagesPerPageset = userSettings.pagesPerPageset;\n        this.userSettings = userSettings; // Set user settings to localStorage\n\n        localStorage.setItem('astro-info-usersettings', JSON.stringify(userSettings)); // Set variable which tells that user settings are defined\n\n        this.userSettingsDefined = true; // Set variable which tells that all user settings have been set to variables (real or default ones)\n\n        this.userSettingsSetToVariables = true;\n        return;\n      }\n    }, {\n      key: \"getDataSourceTitle\",\n      value: function getDataSourceTitle() {\n        var _this = this;\n\n        // Get correct data source title\n        var selectedDataSourceObj = this.dataSourceList.find(function (el) {\n          return el.datasource == _this.dataSource;\n        });\n        this.dataSourceTitle = selectedDataSourceObj.datasourcetitle;\n        return this.dataSourceTitle;\n      }\n    }, {\n      key: \"getDataSourceLocation\",\n      value: function getDataSourceLocation() {\n        // Get correct data source location for additional info in title\n        var ret = \"\";\n\n        if (Globals.DATA_SOURCE == 0) {\n          // Firebase\n          ret = \"\".concat(Globals.FIREBASE_LOCATION);\n        }\n\n        if (Globals.DATA_SOURCE == 1) {\n          // MongoDb\n          ret = \"\".concat(Globals.MONGODB_LOCATION);\n        }\n\n        this.dataSourceLocation = ret;\n        return ret;\n      }\n    }, {\n      key: \"getDataSourceCalledFrom\",\n      value: function getDataSourceCalledFrom() {\n        // Get correct data source location for additional info in title\n        var ret = \"\";\n\n        if (Globals.DATA_SOURCE == 0) {\n          // Firebase\n          ret = \"\".concat(Globals.FIREBASE_CALLED_FROM);\n        }\n\n        if (Globals.DATA_SOURCE == 1) {\n          // MongoDb\n          ret = \"\".concat(Globals.MONGODB_CALLED_FROM);\n        }\n\n        this.dataSourceCalledFrom = ret;\n        return ret;\n      }\n    }, {\n      key: \"getApiSourceTitle\",\n      value: function getApiSourceTitle() {\n        var _this2 = this;\n\n        // Get correct api source title\n        var selectedApiSourceObj = this.apiSourceList.find(function (el) {\n          return el.apisource == _this2.apiSource;\n        });\n        this.apiSourceTitle = selectedApiSourceObj.apisourcetitle;\n        return this.apiSourceTitle;\n      }\n    }, {\n      key: \"getApiSourceCalledFrom\",\n      value: function getApiSourceCalledFrom() {\n        // Get correct api source for additional info in title\n        var ret = \"\";\n\n        if (Globals.API_SOURCE == 0) {\n          // frontend\n          ret = \"frontend\";\n        }\n\n        if (Globals.DATA_SOURCE == 1) {\n          // backend\n          ret = \"backend\";\n        }\n\n        this.apiSourceCalledFrom = ret;\n        return ret;\n      }\n    }]);\n\n    return UserSettingsService;\n  }();\n\n  UserSettingsService.ɵfac = function UserSettingsService_Factory(t) {\n    return new (t || UserSettingsService)();\n  };\n\n  UserSettingsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UserSettingsService,\n    factory: UserSettingsService.ɵfac\n  });\n  return UserSettingsService;\n})();","map":null,"metadata":{},"sourceType":"module"}