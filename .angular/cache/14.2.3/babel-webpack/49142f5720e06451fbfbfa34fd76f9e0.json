{"ast":null,"code":"import _classCallCheck from \"C:/Users/Fritz7x64/Documents/Angular/astro-info/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Fritz7x64/Documents/Angular/astro-info/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { EventEmitter } from '@angular/core';\nimport { FirebaseAuthService } from './shared/firebase.auth.service';\nimport { FirebaseDataService } from './shared/firebase.data.service';\nimport { WikipediaService } from './shared/wikipedia.service';\nimport { FlickrService } from './shared/flickr.service';\nimport { UserSettingsService } from './shared/user.settings.service';\nimport { TranslationsService } from './shared/translations.service';\nimport { CalculationsService } from './shared/calculations.service';\nimport { Router } from '@angular/router';\nimport { Observable, forkJoin, concat } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./shared/firebase.auth.service\";\nimport * as i2 from \"./shared/firebase.data.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./shared/wikipedia.service\";\nimport * as i5 from \"./shared/flickr.service\";\nimport * as i6 from \"./shared/user.settings.service\";\nimport * as i7 from \"./shared/translations.service\";\nimport * as i8 from \"./shared/calculations.service\";\nimport * as i9 from \"@angular/common\";\n\nfunction ObjectDetailsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessageFlickr, \" \");\n  }\n}\n\nfunction ObjectDetailsComponent_div_8_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"a\", 21);\n    i0.ɵɵelement(2, \"img\", 22);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var flickrItem_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate2(\"href\", \"https://www.flickr.com/photos/\", flickrItem_r7.owner, \"/\", flickrItem_r7.id, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate4(\"src\", \"http://farm\", flickrItem_r7.farm, \".staticflickr.com/\", flickrItem_r7.server, \"/\", flickrItem_r7.id, \"_\", flickrItem_r7.secret, \"_q.jpg\", i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ObjectDetailsComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 4)(2, \"div\", 9);\n    i0.ɵɵtemplate(3, ObjectDetailsComponent_div_8_div_3_Template, 3, 6, \"div\", 19);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.flickrItems);\n  }\n}\n\nfunction ObjectDetailsComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.errorMessageWikipedia, \" \");\n  }\n}\n\nfunction ObjectDetailsComponent_div_11_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var wikipediaItem_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"href\", wikipediaItem_r9, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(wikipediaItem_r9);\n  }\n}\n\nfunction ObjectDetailsComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 4)(2, \"div\", 13)(3, \"ul\", 14);\n    i0.ɵɵtemplate(4, ObjectDetailsComponent_div_11_li_4_Template, 3, 2, \"li\", 23);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.wikipediaItems);\n  }\n}\n\nfunction ObjectDetailsComponent_div_38_tbody_10_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var nextHoursPosition_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", nextHoursPosition_r11.hours < 10 ? \"0\" + nextHoursPosition_r11.hours : nextHoursPosition_r11.hours, \":00\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nextHoursPosition_r11.altitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nextHoursPosition_r11.azimuth);\n  }\n}\n\nfunction ObjectDetailsComponent_div_38_tbody_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, ObjectDetailsComponent_div_38_tbody_10_tr_1_Template, 7, 3, \"tr\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var nextHoursPosition_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", nextHoursPosition_r11.id >= 1 && nextHoursPosition_r11.id <= 6);\n  }\n}\n\nfunction ObjectDetailsComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 24)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(10, ObjectDetailsComponent_div_38_tbody_10_Template, 2, 1, \"tbody\", 23);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r4.t_ObjectDetailsComponent_TimeUt);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.t_ObjectDetailsComponent_Altitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.t_ObjectDetailsComponent_Azimuth);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.nextHoursPositions);\n  }\n}\n\nfunction ObjectDetailsComponent_div_40_tbody_10_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var nextHoursPosition_r16 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", nextHoursPosition_r16.hours < 10 ? \"0\" + nextHoursPosition_r16.hours : nextHoursPosition_r16.hours, \":00\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nextHoursPosition_r16.altitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(nextHoursPosition_r16.azimuth);\n  }\n}\n\nfunction ObjectDetailsComponent_div_40_tbody_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, ObjectDetailsComponent_div_40_tbody_10_tr_1_Template, 7, 3, \"tr\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var nextHoursPosition_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", nextHoursPosition_r16.id >= 7 && nextHoursPosition_r16.id <= 12);\n  }\n}\n\nfunction ObjectDetailsComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 24)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(10, ObjectDetailsComponent_div_40_tbody_10_Template, 2, 1, \"tbody\", 23);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r5.t_ObjectDetailsComponent_TimeUt);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.t_ObjectDetailsComponent_Altitude);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.t_ObjectDetailsComponent_Azimuth);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.nextHoursPositions);\n  }\n}\n\nexport var ObjectDetailsComponent = /*#__PURE__*/(function () {\n  var ObjectDetailsComponent = /*#__PURE__*/function () {\n    function ObjectDetailsComponent(_firebaseAuthService, _firebaseDataService, _router, _wikipediaService, _flickrService, _userSettingsService, _translationsService, _calculationsService) {\n      _classCallCheck(this, ObjectDetailsComponent);\n\n      this._firebaseAuthService = _firebaseAuthService;\n      this._firebaseDataService = _firebaseDataService;\n      this._router = _router;\n      this._wikipediaService = _wikipediaService;\n      this._flickrService = _flickrService;\n      this._userSettingsService = _userSettingsService;\n      this._translationsService = _translationsService;\n      this._calculationsService = _calculationsService;\n      this.panelTitle = \"Object details\";\n      this.wikipediaTermCatalogueEntry = '';\n      this.wikipediaTermFamiliarName = '';\n      this.wikipediaTermAlternativeEntries = '';\n      this.flickrTags = ''; // Variables for various error messages\n\n      this.errorMessageFlickr = \"\";\n      this.errorMessageWikipedia = \"\";\n      this.backButtonClicked = new EventEmitter(); // Variables for charts\n\n      this.lineChartType = 'line';\n      this.lineChartLabels = [];\n      this.lineChartData = [{\n        data: [],\n        label: \"\"\n      }];\n      this.lineChartOptions = {\n        min: -90,\n        max: 90\n      };\n      this.lineChartLabelsTemp = [];\n      this.lineChartDataTemp = [{\n        data: [],\n        label: \"\"\n      }]; // Variables for translations\n\n      this.t_ObjectDetailsComponent_PanelTitle = \"Object details\";\n      this.t_ObjectDetailsComponent_ObjectsCurrentPosition = \"Object's current position on the sky at Your location\";\n      this.t_ObjectDetailsComponent_Altitude = \"Altitude\";\n      this.t_ObjectDetailsComponent_Azimuth = \"Azimuth\";\n      this.t_ObjectDetailsComponent_TimeUt = \"Time (UT)\";\n      this.t_ObjectDetailsComponent_ObjectsNextPositions = \"Object's next positions on the sky at Your location\";\n      this.t_ObjectDetailsComponent_Back = \"Back\"; // CaclulationsService current position\n\n      this.altAz = [];\n      this.altDMS = [];\n      this.azDMS = [];\n    }\n\n    _createClass(ObjectDetailsComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        //   var p = this._firebaseAuthService.listenForAuthStateChanges();\n        //   p.then(user => {\n        //     this.isLoggedIn = true;\n        //         // Translations\n        //         this.translate();\n        //         // Update panel title, object current position title and object next positions title\n        //         this.t_ObjectDetailsComponent_PanelTitle = this.t_ObjectDetailsComponent_PanelTitle + ((this.selectedObject.catalogueentry ? \": \" + this.selectedObject.catalogueentry : (this.selectedObject.familiarname ? \": \" + this.selectedObject.familiarname : \"\")));\n        //         this.t_ObjectDetailsComponent_ObjectsCurrentPosition = ((this.selectedObject.catalogueentry ? this.selectedObject.catalogueentry + \" - \" : (this.selectedObject.familiarname ? this.selectedObject.familiarname + \" - \" : \"\"))) + this.t_ObjectDetailsComponent_ObjectsCurrentPosition\n        //         this.t_ObjectDetailsComponent_ObjectsNextPositions = ((this.selectedObject.catalogueentry ? this.selectedObject.catalogueentry + \" - \" : (this.selectedObject.familiarname ? this.selectedObject.familiarname + \" - \" : \"\"))) + this.t_ObjectDetailsComponent_ObjectsNextPositions\n        //         // Wikipedia term\n        //         this.wikipediaTermCatalogueEntry = this.selectedObject.catalogueentry;\n        //         this.wikipediaTermFamiliarName = this.selectedObject.familiarname;\n        //         this.wikipediaTermAlternativeEntries = this.selectedObject.alternativeentries;\n        //         // Wikipedia search\n        //         let obsCatalogueEntry$ = this._wikipediaService.rawSearch(this.wikipediaTermCatalogueEntry);\n        //         let obsFamiliarName$ = this._wikipediaService.rawSearch(this.wikipediaTermFamiliarName);\n        //         let obsAlternativeEntries$ = this._wikipediaService.rawSearch(this.wikipediaTermAlternativeEntries);\n        //         let combined$ = Observable.forkJoin(obsCatalogueEntry$, obsFamiliarName$, obsAlternativeEntries$);\n        //         combined$.subscribe(\n        //             (items) => {\n        //                 this.wikipediaItems = (items[0] !== undefined ? items[0] : []);\n        //                 this.wikipediaItems = (items[1] !== undefined ? this.wikipediaItems.concat(items[1]) : this.wikipediaItems);\n        //                 this.wikipediaItems = (items[2] !== undefined ? this.wikipediaItems.concat(items[2]) : this.wikipediaItems);\n        //             },\n        //             (err) => this.errorMessageWikipedia = err\n        //         )\n        //         // Flickr tags\n        //         this.flickrTags = this.selectedObject.catalogueentry + ',' + this.selectedObject.familiarname;\n        //         // Flickr search\n        //         this._flickrService.getPhotos(this.flickrTags).subscribe(items => this.flickrItems = items.photos.photo, (err) => this.errorMessageFlickr = err);\n        //         // Object's current position on the sky for user's location\n        //         this.getObjectsCurrentPosition();\n        //         // Object's next 12 hour positions on the sky for user's location\n        //         this.getObjectsNextPositions(12);\n        //         // Update chart's label and fill it's data with 100ms delay because of issues with chart.js\n        //         setTimeout(() => {\n        //             this.lineChartData[0].label = this.t_ObjectDetailsComponent_Altitude;\n        //             this.lineChartLabels = this.lineChartLabelsTemp;\n        //             this.lineChartData[0].data = this.lineChartDataTemp[0].data;\n        //         }, 100);\n        //   })\n        //   .catch(value => {this.isLoggedIn = false; this._router.navigate (['/']);})\n        this.isLoggedIn = true; // Translations\n\n        this.translate(); // Update panel title, object current position title and object next positions title\n\n        this.t_ObjectDetailsComponent_PanelTitle = this.t_ObjectDetailsComponent_PanelTitle + (this.selectedObject.catalogueentry ? \": \" + this.selectedObject.catalogueentry : this.selectedObject.familiarname ? \": \" + this.selectedObject.familiarname : \"\");\n        this.t_ObjectDetailsComponent_ObjectsCurrentPosition = (this.selectedObject.catalogueentry ? this.selectedObject.catalogueentry + \" - \" : this.selectedObject.familiarname ? this.selectedObject.familiarname + \" - \" : \"\") + this.t_ObjectDetailsComponent_ObjectsCurrentPosition;\n        this.t_ObjectDetailsComponent_ObjectsNextPositions = (this.selectedObject.catalogueentry ? this.selectedObject.catalogueentry + \" - \" : this.selectedObject.familiarname ? this.selectedObject.familiarname + \" - \" : \"\") + this.t_ObjectDetailsComponent_ObjectsNextPositions; // Wikipedia term\n\n        this.wikipediaTermCatalogueEntry = this.selectedObject.catalogueentry;\n        this.wikipediaTermFamiliarName = this.selectedObject.familiarname;\n        this.wikipediaTermAlternativeEntries = this.selectedObject.alternativeentries; // Wikipedia search\n\n        var obsCatalogueEntry$ = this._wikipediaService.rawSearch(this.wikipediaTermCatalogueEntry);\n\n        var obsFamiliarName$ = this._wikipediaService.rawSearch(this.wikipediaTermFamiliarName);\n\n        var obsAlternativeEntries$ = this._wikipediaService.rawSearch(this.wikipediaTermAlternativeEntries);\n\n        var combined$ = forkJoin({\n          obsCatalogueEntry$: obsCatalogueEntry$,\n          obsFamiliarName$: obsFamiliarName$,\n          obsAlternativeEntries$: obsAlternativeEntries$\n        });\n        concat(obsCatalogueEntry$, obsFamiliarName$, obsAlternativeEntries$).subscribe(function (items) {\n          console.log(items);\n          items[0] !== undefined ? _this.wikipediaItems.push(items[0].content_urls.desktop.page) : _this.wikipediaItems = [];\n          items[1] !== undefined ? _this.wikipediaItems.push(items[1].content_urls.desktop.page) : _this.wikipediaItems = _this.wikipediaItems;\n          items[2] !== undefined ? _this.wikipediaItems.push(items[2].content_urls.desktop.page) : _this.wikipediaItems = _this.wikipediaItems;\n        }, function (err) {\n          return _this.errorMessageWikipedia = err;\n        });\n        combined$.subscribe(function (items) {\n          _this.wikipediaItems = items[0] !== undefined ? items[0] : [];\n          _this.wikipediaItems = items[1] !== undefined ? _this.wikipediaItems.concat(items[1]) : _this.wikipediaItems;\n          _this.wikipediaItems = items[2] !== undefined ? _this.wikipediaItems.concat(items[2]) : _this.wikipediaItems;\n        }, function (err) {\n          return _this.errorMessageWikipedia = err;\n        }); // Flickr tags\n\n        this.flickrTags = this.selectedObject.catalogueentry + ',' + this.selectedObject.familiarname; // Flickr search\n\n        this._flickrService.getPhotos(this.flickrTags).subscribe(function (items) {\n          return _this.flickrItems = items.photos.photo;\n        }, function (err) {\n          return _this.errorMessageFlickr = err;\n        }); // Object's current position on the sky for user's location\n\n\n        this.getObjectsCurrentPosition(); // Object's next 12 hour positions on the sky for user's location\n\n        this.getObjectsNextPositions(12); // Update chart's label and fill it's data with 100ms delay because of issues with chart.js\n\n        setTimeout(function () {\n          _this.lineChartData[0].label = _this.t_ObjectDetailsComponent_Altitude;\n          _this.lineChartLabels = _this.lineChartLabelsTemp;\n          _this.lineChartData[0].data = _this.lineChartDataTemp[0].data;\n        }, 100);\n      }\n    }, {\n      key: \"onBackClick\",\n      value: function onBackClick() {\n        this.backButtonClicked.emit();\n      }\n    }, {\n      key: \"getObjectsCurrentPosition\",\n      value: function getObjectsCurrentPosition() {\n        var RA = this.selectedObject.rightascension.replace(\"h\", \"\").replace(\"'\", \"\").replace(\"s\", \"\").split(\" \");\n        var RA_H = parseInt(RA[0]);\n        var RA_M = parseInt(RA[1]);\n        var RA_S = parseInt(RA[2]);\n        var DEC = this.selectedObject.declination.replace(\"°\", \"\").replace(\"'\", \"\").replace(\"s\", \"\").split(\" \");\n        var DEC_D = parseInt(DEC[0]);\n        var DEC_M = parseInt(DEC[1]);\n        var DEC_S = parseInt(DEC[2]);\n        var LAT = this._userSettingsService.lat;\n        var LON = this._userSettingsService.lng;\n        var now = new Date();\n        var utc_now = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());\n        var dd = utc_now.getDate();\n        var mm = utc_now.getMonth() + 1;\n        var yyyy = utc_now.getFullYear();\n        var hh = utc_now.getHours();\n        var min = utc_now.getMinutes();\n        this.altAz = this._calculationsService.getAltAz(this._calculationsService.convertToHours(RA_H, RA_M, RA_S), this._calculationsService.convertToDegreesDecimal(DEC_D, DEC_M, DEC_S), LAT, LON, yyyy, mm, dd, hh, min);\n        this.altDMS = this._calculationsService.convertDegreesDecimalToDegreesMinutesSeconds(this.altAz[0]);\n        this.azDMS = this._calculationsService.convertDegreesDecimalToDegreesMinutesSeconds(this.altAz[1]);\n      }\n    }, {\n      key: \"getObjectsNextPositions\",\n      value: function getObjectsNextPositions(iterations) {\n        var RA = this.selectedObject.rightascension.replace(\"h\", \"\").replace(\"'\", \"\").replace(\"s\", \"\").split(\" \");\n        var RA_H = parseInt(RA[0]);\n        var RA_M = parseInt(RA[1]);\n        var RA_S = parseInt(RA[2]);\n        var DEC = this.selectedObject.declination.replace(\"°\", \"\").replace(\"'\", \"\").replace(\"s\", \"\").split(\" \");\n        var DEC_D = parseInt(DEC[0]);\n        var DEC_M = parseInt(DEC[1]);\n        var DEC_S = parseInt(DEC[2]);\n        var LAT = this._userSettingsService.lat;\n        var LON = this._userSettingsService.lng;\n        var now = new Date();\n        var utc_now = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());\n        var dd = utc_now.getDate();\n        var mm = utc_now.getMonth() + 1;\n        var yyyy = utc_now.getFullYear();\n        var hh = utc_now.getHours();\n        var min = 0;\n        var obj;\n        var altAz = [];\n        var alt = [];\n        var az = [];\n        var altDMS = \"\";\n        var azDMS = \"\";\n        this.nextHoursPositions = [];\n\n        for (var i = 1; i <= iterations; i++) {\n          altAz = this._calculationsService.getAltAz(this._calculationsService.convertToHours(RA_H, RA_M, RA_S), this._calculationsService.convertToDegreesDecimal(DEC_D, DEC_M, DEC_S), LAT, LON, yyyy, mm, hh + i >= 24 ? dd + 1 : dd, hh + i >= 24 ? hh + i - 24 : hh + i, min);\n          alt = this._calculationsService.convertDegreesDecimalToDegreesMinutesSeconds(altAz[0]);\n          az = this._calculationsService.convertDegreesDecimalToDegreesMinutesSeconds(altAz[1]);\n          altDMS = alt[0].toString() + \"° \" + alt[1].toString() + \"' \" + alt[2].toString() + \"s\";\n          azDMS = az[0].toString() + \"° \" + az[1].toString() + \"' \" + az[2].toString() + \"s\";\n          obj = {\n            id: 0,\n            hours: 0,\n            altitude: \"0\",\n            azimuth: \"0\"\n          };\n          obj.id = i;\n          obj.hours = hh + i >= 24 ? hh + i - 24 : hh + i;\n          obj.altitude = altDMS;\n          obj.azimuth = azDMS;\n          this.nextHoursPositions.push(obj);\n          this.lineChartLabelsTemp.push(obj.hours < 10 ? '0' + obj.hours.toString() + \"h\" : obj.hours.toString() + \"h\");\n          this.lineChartDataTemp[0].data.push(alt[0].toString());\n        }\n      }\n    }, {\n      key: \"translate\",\n      value: function translate() {\n        var _this2 = this;\n\n        if (this._translationsService.translationsSetToVariables === false) {\n          this._translationsService.setTranslationsForLanguage(this._userSettingsService.languageId).then(function () {\n            _this2.t_ObjectDetailsComponent_PanelTitle = _this2._translationsService.t_ObjectDetailsComponent_PanelTitle;\n            _this2.t_ObjectDetailsComponent_ObjectsCurrentPosition = _this2._translationsService.t_ObjectDetailsComponent_ObjectsCurrentPosition;\n            _this2.t_ObjectDetailsComponent_Altitude = _this2._translationsService.t_ObjectDetailsComponent_Altitude;\n            _this2.t_ObjectDetailsComponent_Azimuth = _this2._translationsService.t_ObjectDetailsComponent_Azimuth;\n            _this2.t_ObjectDetailsComponent_TimeUt = _this2._translationsService.t_ObjectDetailsComponent_TimeUt;\n            _this2.t_ObjectDetailsComponent_ObjectsNextPositions = _this2._translationsService.t_ObjectDetailsComponent_ObjectsNextPositions;\n            _this2.t_ObjectDetailsComponent_Back = _this2._translationsService.t_ObjectDetailsComponent_Back;\n          });\n        } else {\n          this.t_ObjectDetailsComponent_PanelTitle = this._translationsService.t_ObjectDetailsComponent_PanelTitle;\n          this.t_ObjectDetailsComponent_ObjectsCurrentPosition = this._translationsService.t_ObjectDetailsComponent_ObjectsCurrentPosition;\n          this.t_ObjectDetailsComponent_Altitude = this._translationsService.t_ObjectDetailsComponent_Altitude;\n          this.t_ObjectDetailsComponent_Azimuth = this._translationsService.t_ObjectDetailsComponent_Azimuth;\n          this.t_ObjectDetailsComponent_TimeUt = this._translationsService.t_ObjectDetailsComponent_TimeUt;\n          this.t_ObjectDetailsComponent_ObjectsNextPositions = this._translationsService.t_ObjectDetailsComponent_ObjectsNextPositions;\n          this.t_ObjectDetailsComponent_Back = this._translationsService.t_ObjectDetailsComponent_Back;\n        }\n      }\n    }]);\n\n    return ObjectDetailsComponent;\n  }();\n\n  ObjectDetailsComponent.ɵfac = function ObjectDetailsComponent_Factory(t) {\n    return new (t || ObjectDetailsComponent)(i0.ɵɵdirectiveInject(i1.FirebaseAuthService), i0.ɵɵdirectiveInject(i2.FirebaseDataService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.WikipediaService), i0.ɵɵdirectiveInject(i5.FlickrService), i0.ɵɵdirectiveInject(i6.UserSettingsService), i0.ɵɵdirectiveInject(i7.TranslationsService), i0.ɵɵdirectiveInject(i8.CalculationsService));\n  };\n\n  ObjectDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ObjectDetailsComponent,\n    selectors: [[\"app-object-details\"]],\n    inputs: {\n      selectedObject: \"selectedObject\"\n    },\n    outputs: {\n      backButtonClicked: \"backButtonClicked\"\n    },\n    decls: 46,\n    vars: 14,\n    consts: [[1, \"panel\", \"panel-primary\", \"top-50\", \"panel-margin\"], [1, \"panel-heading\"], [1, \"panel-title\"], [1, \"panel-body\"], [1, \"row\"], [1, \"col-md-8\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"col-md-4\"], [1, \"col-md-12\"], [1, \"heading-style\"], [1, \"margin-left-10\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-binoculars\"], [1, \"col-md-12\", \"margin-top-8\"], [1, \"list-group\"], [1, \"col-md-6\", \"margin-top-8\"], [1, \"btn\", \"btn-primary\", \"width-100\", \"pull-right\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"glyphicon\", \"glyphicon-arrow-left\"], [1, \"alert\", \"alert-danger\"], [\"class\", \"inline-block\", 4, \"ngFor\", \"ngForOf\"], [1, \"inline-block\"], [\"target\", \"_blank\", 3, \"href\"], [3, \"src\"], [4, \"ngFor\", \"ngForOf\"], [1, \"table\", \"table-striped\", \"table-hover\", \"table-condensed\"]],\n    template: function ObjectDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5);\n        i0.ɵɵtemplate(7, ObjectDetailsComponent_div_7_Template, 2, 1, \"div\", 6);\n        i0.ɵɵtemplate(8, ObjectDetailsComponent_div_8_Template, 4, 1, \"div\", 7);\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵtemplate(10, ObjectDetailsComponent_div_10_Template, 2, 1, \"div\", 6);\n        i0.ɵɵtemplate(11, ObjectDetailsComponent_div_11_Template, 5, 1, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 4)(14, \"div\", 9)(15, \"div\", 10)(16, \"h4\", 11);\n        i0.ɵɵelement(17, \"i\", 12);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(19, \"div\", 4)(20, \"div\", 13)(21, \"ul\", 14)(22, \"li\")(23, \"b\");\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"li\")(27, \"b\");\n        i0.ɵɵtext(28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(29);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(30, \"div\", 4)(31, \"div\", 9)(32, \"div\", 10)(33, \"h4\", 11);\n        i0.ɵɵelement(34, \"i\", 12);\n        i0.ɵɵtext(35);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(36, \"div\", 4)(37, \"div\", 15);\n        i0.ɵɵtemplate(38, ObjectDetailsComponent_div_38_Template, 11, 4, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 15);\n        i0.ɵɵtemplate(40, ObjectDetailsComponent_div_40_Template, 11, 4, \"div\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(41, \"br\")(42, \"br\");\n        i0.ɵɵelementStart(43, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function ObjectDetailsComponent_Template_button_click_43_listener() {\n          return ctx.onBackClick();\n        });\n        i0.ɵɵelement(44, \"span\", 17);\n        i0.ɵɵtext(45);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.t_ObjectDetailsComponent_PanelTitle);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessageFlickr != \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.flickrItems);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessageWikipedia != \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.wikipediaItems);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"\\xA0\\xA0\", ctx.t_ObjectDetailsComponent_ObjectsCurrentPosition, \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\", ctx.t_ObjectDetailsComponent_Altitude, \":\\xA0\\xA0\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.altDMS ? ctx.altDMS[0] + \"\\xB0 \" + ctx.altDMS[1] + \"' \" + ctx.altDMS[2] + \"s\" : \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", ctx.t_ObjectDetailsComponent_Azimuth, \":\\xA0\\xA0\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.azDMS ? ctx.azDMS[0] + \"\\xB0 \" + ctx.azDMS[1] + \"' \" + ctx.azDMS[2] + \"s\" : \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\\xA0\\xA0\", ctx.t_ObjectDetailsComponent_ObjectsNextPositions, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.nextHoursPositions);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.nextHoursPositions);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.t_ObjectDetailsComponent_Back, \"\");\n      }\n    },\n    dependencies: [i9.NgForOf, i9.NgIf],\n    styles: [\".top-50[_ngcontent-%COMP%]{margin-top:50px}.panel-margin[_ngcontent-%COMP%]{margin-left:10px;margin-right:20px}.margin-top-8[_ngcontent-%COMP%]{margin-top:8px}.inline-block[_ngcontent-%COMP%]{display:inline-block;padding-right:2px;padding-top:2px}li[_ngcontent-%COMP%]{list-style-type:none}.heading-style[_ngcontent-%COMP%]{padding:.5px;background-color:#6cf;font-family:Abril Fatface,cursive}.margin-left-10[_ngcontent-%COMP%]{margin-left:10px}\"]\n  });\n  return ObjectDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}